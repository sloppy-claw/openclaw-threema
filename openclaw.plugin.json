{
  "id": "threema",
  "name": "Threema Personal",
  "version": "0.2.0",
  "description": "Privacy-focused messaging via personal Threema account using go-threema",
  "channels": ["threema"],
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "enabled": {
        "type": "boolean"
      },
      "backup": {
        "type": "string",
        "description": "80-char exported identity backup (XXXX-XXXX-...)"
      },
      "password": {
        "type": "string",
        "description": "Backup decryption password"
      },
      "contacts": {
        "type": "object",
        "additionalProperties": { "type": "string" },
        "description": "Map of Threema ID to base64 public key"
      },
      "dmPolicy": {
        "type": "string",
        "enum": ["open", "pairing", "allowlist"],
        "default": "pairing"
      },
      "allowFrom": {
        "type": "array",
        "items": { "type": "string" },
        "description": "Allowed Threema IDs (for allowlist policy)"
      }
    }
  },
  "uiHints": {
    "backup": {
      "label": "Identity Backup",
      "placeholder": "XXXX-XXXX-XXXX-...",
      "sensitive": true,
      "help": "Export from Threema app: Settings → My ID → Export"
    },
    "password": {
      "label": "Backup Password",
      "sensitive": true
    },
    "contacts": {
      "label": "Trusted Contacts",
      "help": "Threema ID → Public Key (base64)"
    },
    "dmPolicy": {
      "label": "DM Policy"
    },
    "allowFrom": {
      "label": "Allowed Threema IDs"
    }
  }
}
